- name: Generate control plane TLS certificate
  ansible.builtin.include_tasks:
    file: apiserver.yml
- name: Generate kubelet TLS certificate
  ansible.builtin.include_tasks:
    file: kubelet.yml
- name: Generate controller manager TLS certificate
  ansible.builtin.include_tasks:
    file: controller-manager.yml
- name: Generate scheduler TLS certificate
  ansible.builtin.include_tasks:
    file: scheduler.yml
- name: Create admin operator TLS certificate
  ansible.builtin.include_tasks:
    file: admin.yml
  when: lookup('file', '/vagrant/share/admin.crt', errors='ignore') is not defined
- name: Create service accounts TLS certificate
  ansible.builtin.include_tasks:
    file: serviceaccount.yml
